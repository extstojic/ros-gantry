<?xml version="1.0" ?>
<sdf version="1.6">
  <world name="gantry_world">
    
    <!-- Physics -->
    <physics type="ode">
      <max_step_size>0.001</max_step_size>
      <real_time_factor>1</real_time_factor>
      <real_time_update_rate>1000</real_time_update_rate>
    </physics>
    
    <!-- Scene -->
    <scene>
      <ambient>0.4 0.4 0.4 1</ambient>
      <background>0.7 0.7 0.7 1</background>
      <shadows>true</shadows>
    </scene>
    
    <!-- Sun light -->
    <light type="directional" name="sun">
      <cast_shadows>true</cast_shadows>
      <pose>0 0 10 0 0 0</pose>
      <diffuse>0.8 0.8 0.8 1</diffuse>
      <specular>0.2 0.2 0.2 1</specular>
      <direction>-0.5 0.1 -0.9</direction>
    </light>
    
    <!-- Ground Plane -->
    <model name="ground_plane">
      <static>true</static>
      <link name="link">
        <collision name="collision">
          <geometry>
            <plane>
              <normal>0 0 1</normal>
              <size>10 10</size>
            </plane>
          </geometry>
        </collision>
        <visual name="visual">
          <geometry>
            <plane>
              <normal>0 0 1</normal>
              <size>10 10</size>
            </plane>
          </geometry>
          <material>
            <ambient>0.8 0.8 0.8 1</ambient>
            <diffuse>0.8 0.8 0.8 1</diffuse>
          </material>
        </visual>
      </link>
    </model>
    
    <!-- Work Table -->
    <model name="work_table">
      <static>true</static>
      <pose>0 0 0.4 0 0 0</pose>
      <link name="table_link">
        <collision name="collision">
          <geometry>
            <box><size>2.0 1.5 0.05</size></box>
          </geometry>
        </collision>
        <visual name="visual">
          <geometry>
            <box><size>2.0 1.5 0.05</size></box>
          </geometry>
          <material>
            <ambient>0.6 0.4 0.2 1</ambient>
            <diffuse>0.6 0.4 0.2 1</diffuse>
          </material>
        </visual>
      </link>
    </model>
    
    <!-- ==================== GANTRY ROBOT ==================== -->
    <model name="gantry_robot">
      <pose>0 0 0.425 0 0 0</pose>
      
      <!-- Base Frame (Fixed to table) -->
      <link name="base_link">
        <pose>0 0 0 0 0 0</pose>
        <inertial>
          <mass>50</mass>
          <inertia>
            <ixx>5</ixx><ixy>0</ixy><ixz>0</ixz>
            <iyy>5</iyy><iyz>0</iyz><izz>5</izz>
          </inertia>
        </inertial>
        <!-- Left vertical pillar -->
        <visual name="pillar_left">
          <pose>-0.7 0 0.4 0 0 0</pose>
          <geometry><box><size>0.1 0.1 0.8</size></box></geometry>
          <material>
            <ambient>0.3 0.3 0.3 1</ambient>
            <diffuse>0.5 0.5 0.5 1</diffuse>
          </material>
        </visual>
        <collision name="pillar_left_col">
          <pose>-0.7 0 0.4 0 0 0</pose>
          <geometry><box><size>0.1 0.1 0.8</size></box></geometry>
        </collision>
        <!-- Right vertical pillar -->
        <visual name="pillar_right">
          <pose>0.7 0 0.4 0 0 0</pose>
          <geometry><box><size>0.1 0.1 0.8</size></box></geometry>
          <material>
            <ambient>0.3 0.3 0.3 1</ambient>
            <diffuse>0.5 0.5 0.5 1</diffuse>
          </material>
        </visual>
        <collision name="pillar_right_col">
          <pose>0.7 0 0.4 0 0 0</pose>
          <geometry><box><size>0.1 0.1 0.8</size></box></geometry>
        </collision>
        <!-- Top horizontal beam (X-axis rail) -->
        <visual name="x_rail">
          <pose>0 0 0.8 0 0 0</pose>
          <geometry><box><size>1.5 0.08 0.08</size></box></geometry>
          <material>
            <ambient>0.2 0.2 0.6 1</ambient>
            <diffuse>0.3 0.3 0.8 1</diffuse>
          </material>
        </visual>
        <collision name="x_rail_col">
          <pose>0 0 0.8 0 0 0</pose>
          <geometry><box><size>1.5 0.08 0.08</size></box></geometry>
        </collision>
      </link>
      
      <!-- X-Carriage (moves along X) -->
      <link name="x_carriage">
        <pose>0 0 0.75 0 0 0</pose>
        <inertial>
          <mass>10</mass>
          <inertia>
            <ixx>0.5</ixx><ixy>0</ixy><ixz>0</ixz>
            <iyy>0.5</iyy><iyz>0</iyz><izz>0.5</izz>
          </inertia>
        </inertial>
        <!-- Y-axis rail -->
        <visual name="y_rail">
          <pose>0 0 0 0 0 0</pose>
          <geometry><box><size>0.1 0.8 0.06</size></box></geometry>
          <material>
            <ambient>0.6 0.3 0.1 1</ambient>
            <diffuse>0.8 0.4 0.1 1</diffuse>
          </material>
        </visual>
        <collision name="y_rail_col">
          <pose>0 0 0 0 0 0</pose>
          <geometry><box><size>0.1 0.8 0.06</size></box></geometry>
        </collision>
      </link>
      
      <!-- Y-Carriage (moves along Y) -->
      <link name="y_carriage">
        <pose>0 0 0.7 0 0 0</pose>
        <inertial>
          <mass>5</mass>
          <inertia>
            <ixx>0.2</ixx><ixy>0</ixy><ixz>0</ixz>
            <iyy>0.2</iyy><iyz>0</iyz><izz>0.2</izz>
          </inertia>
        </inertial>
        <!-- Z-axis column -->
        <visual name="z_column">
          <pose>0 0 -0.2 0 0 0</pose>
          <geometry><box><size>0.06 0.06 0.5</size></box></geometry>
          <material>
            <ambient>0.1 0.5 0.1 1</ambient>
            <diffuse>0.2 0.7 0.2 1</diffuse>
          </material>
        </visual>
        <collision name="z_column_col">
          <pose>0 0 -0.2 0 0 0</pose>
          <geometry><box><size>0.06 0.06 0.5</size></box></geometry>
        </collision>
      </link>
      
      <!-- Z-Carriage (moves along Z) - End Effector Mount -->
      <link name="z_carriage">
        <pose>0 0 0.45 0 0 0</pose>
        <inertial>
          <mass>2</mass>
          <inertia>
            <ixx>0.05</ixx><ixy>0</ixy><ixz>0</ixz>
            <iyy>0.05</iyy><iyz>0</iyz><izz>0.05</izz>
          </inertia>
        </inertial>
        <visual name="end_effector">
          <pose>0 0 0 0 0 0</pose>
          <geometry><box><size>0.08 0.08 0.1</size></box></geometry>
          <material>
            <ambient>0.7 0.1 0.1 1</ambient>
            <diffuse>0.9 0.2 0.2 1</diffuse>
          </material>
        </visual>
        <collision name="end_effector_col">
          <pose>0 0 0 0 0 0</pose>
          <geometry><box><size>0.08 0.08 0.1</size></box></geometry>
        </collision>
      </link>
      
      <!-- Gripper (suction cup) -->
      <link name="gripper">
        <pose>0 0 0.38 0 0 0</pose>
        <inertial>
          <mass>0.5</mass>
          <inertia>
            <ixx>0.01</ixx><ixy>0</ixy><ixz>0</ixz>
            <iyy>0.01</iyy><iyz>0</iyz><izz>0.01</izz>
          </inertia>
        </inertial>
        <visual name="gripper_visual">
          <pose>0 0 0 0 0 0</pose>
          <geometry><cylinder><radius>0.04</radius><length>0.03</length></cylinder></geometry>
          <material>
            <ambient>0.8 0.8 0.1 1</ambient>
            <diffuse>1.0 1.0 0.2 1</diffuse>
          </material>
        </visual>
        <collision name="gripper_col">
          <pose>0 0 0 0 0 0</pose>
          <geometry><cylinder><radius>0.04</radius><length>0.03</length></cylinder></geometry>
        </collision>
      </link>
      
      <!-- JOINTS -->
      
      <!-- X-axis joint (prismatic) -->
      <joint name="joint_x" type="prismatic">
        <parent>base_link</parent>
        <child>x_carriage</child>
        <axis>
          <xyz>1 0 0</xyz>
          <limit>
            <lower>-0.5</lower>
            <upper>0.5</upper>
            <effort>100</effort>
            <velocity>0.5</velocity>
          </limit>
          <dynamics>
            <damping>10</damping>
            <friction>5</friction>
          </dynamics>
        </axis>
      </joint>
      
      <!-- Y-axis joint (prismatic) -->
      <joint name="joint_y" type="prismatic">
        <parent>x_carriage</parent>
        <child>y_carriage</child>
        <axis>
          <xyz>0 1 0</xyz>
          <limit>
            <lower>-0.3</lower>
            <upper>0.3</upper>
            <effort>100</effort>
            <velocity>0.5</velocity>
          </limit>
          <dynamics>
            <damping>10</damping>
            <friction>5</friction>
          </dynamics>
        </axis>
      </joint>
      
      <!-- Z-axis joint (prismatic) -->
      <joint name="joint_z" type="prismatic">
        <parent>y_carriage</parent>
        <child>z_carriage</child>
        <axis>
          <xyz>0 0 1</xyz>
          <limit>
            <lower>-0.3</lower>
            <upper>0.2</upper>
            <effort>100</effort>
            <velocity>0.5</velocity>
          </limit>
          <dynamics>
            <damping>10</damping>
            <friction>5</friction>
          </dynamics>
        </axis>
      </joint>
      
      <!-- Gripper joint (fixed) -->
      <joint name="gripper_joint" type="fixed">
        <parent>z_carriage</parent>
        <child>gripper</child>
      </joint>
      
    </model>
    
    <!-- Sample objects for pick and place -->
    <model name="box_red">
      <pose>0.3 0.2 0.475 0 0 0</pose>
      <link name="link">
        <inertial>
          <mass>0.1</mass>
          <inertia>
            <ixx>0.001</ixx><ixy>0</ixy><ixz>0</ixz>
            <iyy>0.001</iyy><iyz>0</iyz><izz>0.001</izz>
          </inertia>
        </inertial>
        <collision name="collision">
          <geometry><box><size>0.05 0.05 0.05</size></box></geometry>
        </collision>
        <visual name="visual">
          <geometry><box><size>0.05 0.05 0.05</size></box></geometry>
          <material>
            <ambient>0.8 0.1 0.1 1</ambient>
            <diffuse>1.0 0.2 0.2 1</diffuse>
          </material>
        </visual>
      </link>
    </model>
    
    <model name="box_blue">
      <pose>-0.3 0.2 0.475 0 0 0</pose>
      <link name="link">
        <inertial>
          <mass>0.1</mass>
          <inertia>
            <ixx>0.001</ixx><ixy>0</ixy><ixz>0</ixz>
            <iyy>0.001</iyy><iyz>0</iyz><izz>0.001</izz>
          </inertia>
        </inertial>
        <collision name="collision">
          <geometry><box><size>0.05 0.05 0.05</size></box></geometry>
        </collision>
        <visual name="visual">
          <geometry><box><size>0.05 0.05 0.05</size></box></geometry>
          <material>
            <ambient>0.1 0.1 0.8 1</ambient>
            <diffuse>0.2 0.2 1.0 1</diffuse>
          </material>
        </visual>
      </link>
    </model>
    
    <model name="box_green">
      <pose>0 -0.2 0.475 0 0 0</pose>
      <link name="link">
        <inertial>
          <mass>0.1</mass>
          <inertia>
            <ixx>0.001</ixx><ixy>0</ixy><ixz>0</ixz>
            <iyy>0.001</iyy><iyz>0</iyz><izz>0.001</izz>
          </inertia>
        </inertial>
        <collision name="collision">
          <geometry><box><size>0.05 0.05 0.05</size></box></geometry>
        </collision>
        <visual name="visual">
          <geometry><box><size>0.05 0.05 0.05</size></box></geometry>
          <material>
            <ambient>0.1 0.6 0.1 1</ambient>
            <diffuse>0.2 0.8 0.2 1</diffuse>
          </material>
        </visual>
      </link>
    </model>
    
  </world>
</sdf>
